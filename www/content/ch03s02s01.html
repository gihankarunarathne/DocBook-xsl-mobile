<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
	<meta http-equiv="X-UA-Compatible" content="IE=7" />
	<title>New Stemmers</title><meta name="generator" content="Bluefish 2.2.2" /><link rel="home" href="index.html" title="Mobile docBook Help" /><link rel="up" href="ch03s02.html" title="Search" /><link rel="prev" href="ch03s02.html" title="Search" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="stylesheet" type="text/css" href="../css/themes/default/jquery.mobile-1.1.0.min.css" /><link rel="stylesheet" type="text/css" href="../css/mobile.positioning.css" /><script type="text/javascript">
              //The id for tree cookie
              var treeCookieId = "treeview-1055";
              var language = "en";
              var w = new Object();
              //Localization
              txt_filesfound = 'Results';
              txt_enter_at_least_1_char = "You must enter at least one character.";
              txt_browser_not_supported = "JavaScript is disabled on your browser. Please enable JavaScript to enjoy all the features of this site.";
              txt_please_wait = "Please wait. Search in progress...";
              txt_results_for = "Results for: ";
            </script><script type="text/javascript" src="../js/browserDetect.js"><!--//jQuery--></script><script type="text/javascript" src="../js/jquery.min.js"><!--//jQuery--></script><script type="text/javascript" src="../js/jquery.cookie.min.js"><!--include mobile menubar js--></script><script type="text/javascript" src="../js/mobile-menubar.js"><!--mobile-menubar--></script><script type="text/javascript" src="../js/mobile-settings.js"><!--include mobile settings js--></script><script type="text/javascript" src="search/l10n.js"><!--l10n--></script><script type="text/javascript" src="search/htmlFileInfoList.js"><!--htmlFileInfoList--></script><script type="text/javascript" src="search/nwSearchFnt.js"><!--nwSearchFnt--></script><script type="text/javascript" src="search/stemmers/en_stemmer.js"><!--make scalable to other languages as well.--></script><script type="text/javascript" src="search/index-1.js"><!--index-1--></script><script type="text/javascript" src="search/index-2.js"><!--index-2--></script><script type="text/javascript" src="search/index-3.js"><!--index-3--></script><script type="text/javascript" charset="utf-8">
        document.addEventListener("deviceready", onDeviceReady, false);

        function onDeviceReady() {
          document.addEventListener("menubutton", onMenuKeyDown, false);
        }

        function onMenuKeyDown() {
          $.mobile.changePage("settings.html");
        }
		</script><script type="text/javascript" src="../js/jquery.mobile-1.1.0.min.js"><!----></script><script type="text/javascript" src="../js/swipeupdown.js"><!----></script></head><body><div data-role="page" id="id_ch03s02s01_html"><!--KEEP THIS CODE--><div data-role="header" data-theme="b"><h4>New Stemmers</h4><!----><a accesskey="p" data-role="button" data-icon="arrow-l" data-iconpos="notext" data-theme="a" href="ch03s02.html">Prev</a>
          
          
            <script type="text/javascript">        
        $(function() {
          var $nextPage="ch03s02.html";
          var $prevPage="";
        
          var $toc="toc.html";
          var $menubar="menubar.html";
          //when swipe down event happens
          $("#id_ch03s02s01_html").live('swipedown', function(event) {
            if("showMenuBar"===$.cookie('popupmenubar') ){
              if("swipeDown"===$.cookie('menubardirection') ){
                $.mobile.changePage($menubar);
              }
            }
            if("showtoc"===$.cookie('popuptoc') ) {
              if("swipeDown"===$.cookie('tocdirection') ){
                $.mobile.changePage($toc);
              }
            }
          });
				  //when swipe up event happens
          $("#id_ch03s02s01_html").live('swipeup', function(event) {
            if("showMenuBar"===$.cookie('popupmenubar')){
              if("swipeUp"===$.cookie('menubardirection') ){
                $.mobile.changePage($menubar);
              }
            }
            if("showtoc"===$.cookie('popuptoc')) {
              if("swipeUp"===$.cookie('tocdirection') ){
                $.mobile.changePage($toc);
              }
            }
          });
        
          //when swipe left event happens
          $("#id_ch03s02s01_html").live('swipeleft', function(event) {
            if("swipeLeft" === $.cookie('nextpage') ){
              $.mobile.changePage($nextPage);
            }else{
              $.mobile.changePage($prevPage);
            }
          });
				 	//when swipe right event happens
          $("#id_ch03s02s01_html").live('swiperight', function(event) {
            if("swipeRight" === $.cookie('prevpage') ){
              $.mobile.changePage($prevPage);
            }else{
              $.mobile.changePage($nextPage);
            }
          });
        
          //if taphold feature enabled
          $("#id_ch03s02s01_html_taphold").hide();
          $("#id_ch03s02s01_html").live('taphold', function(event) {
            $("#id_ch03s02s01_html_taphold").click();
          });
         
        });
			</script></div><div data-role="content" id="bodyone"><a href="tapholdDialog.html" data-role="button" data-inline="true" data-rel="dialog" data-transition="flip" id="id_ch03s02s01_html_taphold"></a><div id="content"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="d0e1845"></a>New Stemmers</h3></div></div></div><p class="summary">Adding new Stemmers is very simple.</p><p>Currently, only English, French, and German stemmers are integrated in to Mobile. But
          the code is extensible such that you can add new stemmers easily by few steps.</p><p>What you need: </p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>You'll need two versions of the stemmer; One written in JavaScript, and another
              in Java. But fortunately, Snowball contains Java stemmers for number of popular
              languages, and are already included with the package. You can see the full list in
              <a class="ulink" href="ch02s04.html" target="_top">Adding support for other (non-CJKV) languages</a>.
              If your language is listed there, Then you have to find javascript version of the
              stemmer. Generally, new stemmers are getting added in to <a class="ulink" href="http://snowball.tartarus.org/otherlangs/index.html" target="_top">Snowball Stemmers in
                other languages</a> location. If javascript stemmer for your language is
              available, then download it. Else, you can write a new stemmer in JavaScript using
              SnowBall algorithm fairly easily. Algorithms are at <a class="ulink" href="http://snowball.tartarus.org/" target="_top">Snowball</a>. </p></li><li class="listitem"><p>Then, name the JS stemmer exactly like this:
              <code class="filename">{$language-code}_stemmer.js</code>. For example, for Italian(it),
              name it as, <code class="filename">it_stemmer.js</code>. Then, copy it to the
              <code class="filename">docbook-mobile/template_mobile/content/search/stemmers/</code> folder. (I
              assumed <code class="filename">docbook-mobile</code> is the root folder for mobile.) </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Make sure you changed the <code class="code">mobile.indexer.language</code> property in
                  <code class="filename">build.properties</code> to your language. </p></div><p>
            </p></li><li class="listitem"><p>Now two easy changes needed for the indexer.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem"><p>Open
                  <code class="filename">docbook-webhelp/indexer/src/com/nexwave/nquindexer/IndexerTask.java</code>
                  in a text editor and add your language code to the
                  <code class="code">supportedLanguages</code> String Array. </p><div class="example"><a id="d0e1905"></a><p class="title"><strong>Example 2. Add new language to supportedLanguages array</strong></p><div class="example-contents"><p> change the Array from,
                    </p><pre class="programlisting">
private String[] supportedLanguages= {"en", "de", "fr", "cn", "ja", "ko"}; 
    //currently extended support available for
    // English, German, French and CJK (Chinese, Japanese, Korean) languages only.
</pre><p>
                    To,</p><pre class="programlisting">
private String[] supportedLanguages= {"en", "de", "fr", "cn", "ja", "ko", <span class="emphasis"><em>"it"</em></span>}; 
  //currently extended support available for
  // English, German, French, CJK (Chinese, Japanese, Korean), and Italian languages only.
                    </pre></div></div><br class="example-break" /></li><li class="listitem"><p> Now, open
                  <code class="filename">docbook-webhelp/indexer/src/com/nexwave/nquindexer/SaxHTMLIndex.java</code>
                  and add the following line to the code where it initializes the Stemmer (Search
                  for <code class="code">SnowballStemmer stemmer;</code>). Then add code to initialize the
                  stemmer Object in your language. It's self understandable. See the example. The
                  class names are at:
                  <code class="filename">docbook-webhelp/indexer/src/com/nexwave/stemmer/snowball/ext/</code>. </p><div class="example"><a id="d0e1930"></a><p class="title"><strong>Example 3. Initialize correct stemmer based on the
                    <code class="code">mobile.indexer.language</code> specified</strong></p><div class="example-contents"><pre class="programlisting">
      SnowballStemmer stemmer;
      if(indexerLanguage.equalsIgnoreCase("en")){
           stemmer = new EnglishStemmer();
      } else if (indexerLanguage.equalsIgnoreCase("de")){
          stemmer= new GermanStemmer();
      } else if (indexerLanguage.equalsIgnoreCase("fr")){
          stemmer= new FrenchStemmer();
      }
<span class="emphasis"><em>else if (indexerLanguage.equalsIgnoreCase("it")){ //If language code is "it" (Italian)
          stemmer= new italianStemmer();  //Initialize the stemmer to <code class="code">italianStemmer</code> object.
      } </em></span>      
      else {
          stemmer = null;
      }
</pre></div></div><br class="example-break" /></li></ul></div></li></ul></div><p>
        </p><p>That's all. Now run <code class="code">ant build-indexer</code> to compile and build the java code.
          Then, run <code class="code">ant mobile</code> to generate the output from your docbook file. For any
          questions, contact us or email to the docbook mailing list
          <code class="email">&lt;<a class="email" href="mailto:docbook-apps@lists.oasis-open.org">docbook-apps@lists.oasis-open.org</a>&gt;</code>.</p><a id="d0e1956" class="indexterm"></a></div><!----><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch03s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch03s02.html">Up</a></td><td width="40%" align="right"> </td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></div></div></div></body></html>